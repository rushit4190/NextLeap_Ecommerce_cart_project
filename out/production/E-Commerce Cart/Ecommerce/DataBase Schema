-- User table schema
CREATE TABLE Users (
    UserID VARCHAR(36) PRIMARY KEY,
    FirstName VARCHAR(50) NOT NULL,
    LastName VARCHAR(50) NOT NULL,
    Email VARCHAR(100) UNIQUE NOT NULL,
    Password VARCHAR(255) NOT NULL,
    RegistrationDate TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- Product table schema
CREATE TABLE Products (
    ProductID INT PRIMARY KEY AUTO_INCREMENT,
    Name VARCHAR(100) NOT NULL,
    InventoryStatus ENUM('Available', 'Out of Stock') NOT NULL,
    MRPPrice DECIMAL(10, 2) NOT NULL,
    Discount DECIMAL(5, 2) NOT NULL,
    MaxQuantityAllowed INT,
    UNIQUE(Name)
);

-- CartItem table schema
CREATE TABLE CartItems (
    CartItemID INT PRIMARY KEY AUTO_INCREMENT,
    CartID INT NOT NULL,
    ProductID INT NOT NULL,
    Quantity INT NOT NULL,
    TotalCost DECIMAL(10, 2) NOT NULL,
    CONSTRAINT fk_cartitem_cart FOREIGN KEY (CartID) REFERENCES Carts(CartID),
    CONSTRAINT fk_cartitem_product FOREIGN KEY (ProductID) REFERENCES Products(ProductID)
);

-- Cart table schema
CREATE TABLE Carts (
    CartID INT PRIMARY KEY AUTO_INCREMENT,
    UserID VARCHAR(36) NOT NULL,
    NoOfCartItems INT NOT NULL,
    TotalCartValue DECIMAL(10, 2) NOT NULL,
    CONSTRAINT fk_cart_user FOREIGN KEY (UserID) REFERENCES Users(UserID)
);


The Users table stores information about users, including their UserID, FirstName, LastName, Email, Password, and RegistrationDate.

The Products table stores information about products, including their ProductID, Name, InventoryStatus, MRPPrice, Discount, and MaxQuantityAllowed. The Name field is marked as UNIQUE to ensure product names are unique.

The CartItems table stores individual cart items, including CartItemID, CartID, ProductID, Quantity, and TotalCost. It has foreign key constraints referencing the Carts and Products tables.

The Carts table includes CartID, UserID, NoOfCartItems, and TotalCartValue. It represents a user's shopping cart and maintains the total number of cart items and the overall cart value. It has a foreign key constraint referencing the Users table.
